# 엔드포인트 구성법
## 파라미터
### 1. Path paramaters
#### 기본 문법
```python
@app.get('/blog/{id}') # 패스에 {}로 id 를 잡아와 캡처
def index(id: int):         # 인자로 id 를 주고,
    return {"message" : f"Blog with id {id}"} #함수 내부 사용
```
#### 주의 : 순서가 중요
```python
@app.get('/blog/{id}')
def index(id: int):
    return {"message" : f"Blog with id {id}"}

# FastAPI 는 순서에 민감.
# 윗쪽에 등록된 엔드포인트 패턴이 전부 먼저 가로챈다!
@app.get('/blog/all')
def index2():
    return {"message" : f"returns lists of all blogs!!"}
```
- 따라서 범위가 겹치는 엔드포인트의 경우, 좀 더 제네릭한걸 밑으로.
### 2. Predifined Value (특정 값 중 1택)
#### 내부적으로 Enum 을 사용.
```python
from enum import Enum

class BlogType(str, Enum):
    short = 'short'
    story = 'story'
    howto = 'howto'

@app.get('/blog/type/{type}')
def blog_type(type: BlogType):
    return {"message" : f"Blog type: {type}"}
```
### Query parmaeters
#### Path 에 포함되지 않은 인자는 쿼리파람으로 간주
```python
@app.get('/blog/all')
def get_all_blogs(page: int, page_size: int):
    return {"message" : f"All {page_size} blogs on {page}"}
```
#### 기본값, 옵셔널
```python
from typing import Optional

@app.get('/blog/all')
def get_all_blogs(page: int = 1 , page_size: Optional[int] = None): # = 로 기본값, Optional[x] = None 으로 없어도 되는 인자임을 표현
    return {"message" : f"All {page_size} blogs on {page}"}
```