## Select Query
### Select all
```Python
# db 인스턴스로부터 쿼리. 이 경우는 전부 읽는다.
# 어떤 테이블로부터 읽을지를 인자로.
return db.query(DbUser).all()

## 라우터의 경우
@router.get("/", response_model=List[UserDisplay])
def get_all_users(db: Session = Depends(get_db)):
    return db_user.get_all_users(db)
```
### Select one
```python
# model을 인자로 주는건 동일
return db.query(DbUser).filter(DbUser.id == id).first()

##라우터
@router.get("/{id}", response_model=UserDisplay)
def get_user(id: int, db: Session = Depends(get_db)):
    return db_user.get_user(db, id)
```
## Update Query
```python
# 일단 셀렉트 쿼리를 한 뒤
user = db.query(DbUser).filter(DbUser.id==id)
# 변경한다.
user.update({
    DbUser.username: request.username,
    ...
})
# 커밋.
db.commit
```
## Delete Query
```python
def delete_user(db: Session, id: int):
    user = db.query(DbUser).filter(DbUser.id == id).first()
    db.delete(user)
    db.commit()
    return "ok"
# router
@router.delete("/{id}")
def delete_user(id: int, db: Session = Depends(get_db)):
    return db_user.delete_user(db, id)

```
## 위 코드는 exception 처리가 빠진 최소 단위임을 주의